// Package middleware
// @Link  https://github.com/huagelong/devinggo
// @Copyright  Copyright (c) 2024 devinggo
// @Author  Kai <hpuwang@gmail.com>
// @License  https://github.com/huagelong/devinggo/blob/master/LICENSE

package middleware

import (
	"context"
	"devinggo/modules/{{.moduleName}}/service"
	systemService "devinggo/modules/system/service"
)

type sMiddleware struct {
}

func init() {
	service.RegisterMiddleware(NewMiddleware())
}

func NewMiddleware() *sMiddleware {
	return &sMiddleware{}
}

// IsExceptAuth 是否是不需要验证权限的路由地址
func (s *sMiddleware) isExceptAuth(ctx context.Context) bool {
	return systemService.Middleware().IsExceptAuth(ctx)
}

// IsExceptLogin 是否是不需要登录的路由地址
func (s *sMiddleware) isExceptLogin(ctx context.Context) bool {
	return systemService.Middleware().IsExceptLogin(ctx)
}